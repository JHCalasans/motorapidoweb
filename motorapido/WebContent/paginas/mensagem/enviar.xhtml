<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
</h:head>
<ui:composition template="/paginas/masterPage.xhtml">
	<ui:param name="tituloPagina" value="#{bundle.mensagem_Titulo}" />
	<ui:param name="headerConteudo" value="#{bundle.mensagem_Titulo}" />
	<ui:param name="bean" value="#{mensagemBean}" />
	<f:metadata>
		<f:event type="preRenderView"
			listener="#{mensagemBean.verificaSessaoValida}" />
	</f:metadata>

	<ui:define name="conteudo">
		<h:form prependId="false" id="formConsulta">

			<p:panel id="panelMotoristas" header="Motoristas">

				<h:panelGroup>

					<p:dataTable tableStyle="table-layout:auto;width: 100%;"
						id="tbMotoristas" var="motorista"
						value="#{mensagemBean.motoristas}"
						style="text-align: center; max-width:100%" first="0"
						paginatorAlwaysVisible="false" rowKey="#{motorista.codigo}"
						selection="#{mensagemBean.motoristasSelecionados}"
						emptyMessage="#{bundle.nenhumRegistroEncontrado}" paginator="true"
						rows="10">
						<p:column selectionMode="multiple"
							style="width:16px;text-align:center" />

						<p:column sortBy="#{motorista.nome}" filterBy="#{motorista.nome}"
							filterMatchMode="contains">
							<f:facet name="header">
								<h:outputText value="#{bundle.motorista_nome}"
									styleClass="cabecalhoDataTable" />
							</f:facet>
							<div style="text-align: center;">
								<h:outputText value="#{motorista.nome}" />
							</div>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{bundle.motorista_situacao}"
									styleClass="cabecalhoDataTable" />
							</f:facet>
							<div style="text-align: center;">
								<h:outputText
									value="#{motorista.ativo == 'S' ? (motorista.bloqueado == 'S' ? 'Ativo(Bloqueado)' : 'Ativo'): 'Inativo'}" />

							</div>
						</p:column>


					</p:dataTable>
					<br />
					<div class="clear" />
				</h:panelGroup>
			</p:panel>


			<p:panel id="panelMensagem" header="Mensagem">

				<h:panelGroup>
					<p:inputTextarea widgetVar="editor"  rows="15" value="#{mensagemBean.mensagem.descricao}"
						style="margin-bottom:10px; width:99%" placeholder="Digite aqui a mensagem">
						
					</p:inputTextarea>

				</h:panelGroup>


				<h:panelGroup styleClass="p_like buttonPosition">
					<br></br>
					<p:commandButton action="#{mensagemBean.enviarMensagem}"
						value="Enviar" update=":msgs,:growl" icon="ui-icon ui-icon-plus">
					</p:commandButton>

				</h:panelGroup>
				<div class="clear" />

			</p:panel>


		</h:form>


	</ui:define>
</ui:composition>
</html>
